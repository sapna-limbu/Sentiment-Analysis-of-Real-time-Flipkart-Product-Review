import streamlit as st
import re
#import emoji
#import autocorrect ## Has to be installed
#import nltk
#from nltk.tokenize import word_tokenize,sent_tokenize
#from nltk.corpus import stopwords
#from nltk.stem import PorterStemmer,WordNetLemmatizer,LancasterStemmer
from sklearn.feature_extraction.text import CountVectorizer
#from nltk.sentiment.vader import SentimentIntensityAnalyzer
from sklearn.model_selection import train_test_split
from sklearn.naive_bayes import MultinomialNB
from sklearn.pipeline import Pipeline
from sklearn.metrics import accuracy_score,confusion_matrix,classification_report,f1_score,ConfusionMatrixDisplay
import pickle
result = None


#st.button("submit")
#result= model.predict([text])
import os
# Get the directory of the current script
current_dir = os.path.dirname(__file__)

# Construct the path to the pickle file relative to the current script
pickle_file_path = os.path.join(current_dir, "sentiment.pkl")

# Load the pickle file
with open(pickle_file_path, "rb") as f:
    model = pickle.load(f)

st.title("Sentiment Analysis App")
text = st.text_input("Enter your review below:")



if st.button("Submit")==True:
    result = model.predict([text])[0]
    st.write(result)

if result == 'Positive':
    st.image("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAABZVBMVEX////ysYtTAC1QDC6R1OnxnYjuMiT28/SFVW3o9vqc2OvysIrq7I3vrondz9aHTWxjJ0X6+PlmFjjyrYvhnoFYBjDmpITFf3DyqYrrqYfy7O/Pina8dWuVSlR/Mkfu5upfEjzWknpuHz387ub64dPc8fihdI2+eGygVlqJPU13KUKyamXzuJWCRWZnHkbHrLv41cH1wKL2yK3k195wK1Cthpt5OVy9na7Ru8eRXHm2k6aNQU+dboiZT1bGq7p7OESz4fBVHD3d2IWoYF93M1KCO1GZYHW6jZbbwcTz49+mZGq1e37TpJ3etavw08e2iGSAP0Z4DCugGSmOEyrhLiXvSTfRlYRpR2ucmbCClbG82uhdJE13fZyPxduFqsRfO1qQYFSylWmhe1+ETUzIt3fZzoKab1rwxIy/qnLu0Iy8iYaCDyq+IydhBSzFJSbtgGTwcVfwaFDvV0Jyaoqszt9oVXKGssnpQi8GAAAQl0lEQVR4nO2d+XvaRhrHgZI4DpEdKZKwkJCRbIMQBhxjMMaQuKV32iRN0qZpk2yvbNtt0nO3f//OjEDHzOhCh73P+vtD3cfRSPOZ95hDM3KhcKlLXepSl7rURRW7VqttI9Vqa+x512YFsbXBRv942Dw52eyOkLqbJyfN4XF/Y1D7HwFiaxv94bR71GsIJUJCo3fUnQ77GxedprZxPO32GiSBV41ed3q8UTvv2vqI3R43uz2KGegSet3mePviGQZQjEItQVhmBFjOu+ZurW0M41MsWYYba+dd/4Vq/ZPoHkVK6J30L0K4bB9vrmgMl1k2j8/bw7aPu4kxEEr3XFFqd9LBsFDunJeDsePkTuVB2RyfSzYeNHtpYkD1moPcMdaORwkylZ+E0XHOuXgwTdWrHDWmeRqF7Y+ywYAa9XOLlNowI3NYagxzSl+Dkwyiwy3hJBf3GmfoVkuNxpljsP2j7DlKpaOsA4U9Tr3zoKt3nCkJO8k0zN1qTDIkyZEjU5JcOTIkYY9z5QAkGcVJP6c4d9TrZ8ExziXvenWUQX8yyKEfJDVKvY+vnfg/LcsRy0nK4y526FtbwZy3swMRhukGvH+g63O+qJlkBdIiSTfgfQOEm2lFoKpO/INqcumQpBkma036MwS1KkGOYoVCMlPmKpeGYZrpzX779J6QM/jiUnIbr7NgKrzWMlRdSEjTSM25trvUB5hVpuiInxOuJKiKWJR4uWO0TT2Bcbpprd1NaHUQ6lrRI0auU1A6yGiSqMmtjlFvq4CI4wSPwC9001T9Q0qYpMMxoHXp3Fwq4pKqFBTTkO0rGUkSeU2Tq9Vqq6UAtVrgf2VN43lRPPU3yVEq8c7SIl1vMQQHRJHnJmE+rt3RSGpCnQDfa6bRmWxQDGLKvvURqwaRrARONVqayFSCQLSAdH20kZyDHZL3VbXAthXlzkzFoxvA1OdV3r8UU/cHKaXQv1MiJIQD1QpEtzKfnaqmqUOZartudGQ+yMVkl0kELGenECVkyorAYfNIoshDiaJEDSq3JNsk+jff/vSd7rFn4sRF9iFmdI6Y0qy6C9//cAPoW0/MJO5LiE49IM4TCyUu4Zt3IMeNd+66H5u0e2enGAdXzY7Dcq4Fx413vvc8eJos3PFQFzoZcgDnUkvmqxs3KBZJGu6YZwkGLe0wfLXT6VSj9HpeSRoqyDt5QDa/W3Dc+MHbryTzLbxXVyn9ABiYwAEuGDO1wRgxhkSlzaGCer26bIOKtjTIjX9iTp2od9/2Tqh0SqBrcHwFKGDiF9oxMgEa+C8KcssRaOVH2yA6BjJKkrc2PDNcWoBUTViNjizLykwXSlwntLuwxHS4kqDPFFCwA5vCrHpBXj3EOEq9JMOUY09v2CY9B8wMwXjeqjyjGVxUEsjBGXbBulDSq26QV9/jHCXheHUOb/LlSL/RTFBzJ8YZwBUtP1c5UHMHWQJci44WxchPhD1KiRJwzdOtG0RbM7MSp3h+I+slNULEiyoebwpXmqH7//jzq59/pI4fu6svcXl6EV0j6sPUuTlGp3DRQLAGKDJzrm7fqsLXKZOTBD3J2NWLCHNKhXgZ7zsYjeSlSNNw80qyO7VDX8PVWH0h+I6rXfSAqUQGYmSVWJa5szKIewhPM8hSEpiGy2AGGLu2IipIHxEQyzIJhvKuySElQqRl8pyrcGGEM2fVWIMUqTozYTlOnS/zsKc8g6+VDVflcGffOtncMmLjDa4xOmkOmyfdHteWI1sFVJPrdVHBUWOx1KdhCV5SPP61cv5lnVcJAqV3qNZ5OMrrTfvbcFGTrW0MR3onolGkjj4aWvuY17b70x6c5vB14il8x7Uqc7IqyJoDQsupvKq2FN2zW2zQ7FHWu2gcc8/eLHa8qSstlTYm5Z2V/pNVF4HXNoNCnWFanMA1vUM59s67kWYsnXfveJt3uwlu1mIonjm3K7GZHIQyOgFW1zocuVLefy/CCFh+j5hdrDU5cEOKSZzFlRRATNo8ZKar7zujhv7EchX2A+rky1vU+MCyx2DiANXeV/UZpajjWymAzGjJiD/VP3QuHgojy1s++lgLA9E+/ggx3xkJrpT6oX5K63TBgC41EEGhPAAY/Z7rzk37LdknrTCQ1ifoQvg+r+l63D26UypCaiC0EIEgnzrXovUvaxJ3vxrSmTDV+6gInH6616s+9XkMlxoILUSANFSfGqxKrYmWpNBoaCdwYRRI4nfgdWgkJzRhmG2jWLuvUS+3gyQ5SJvexNIuqk93cmeyaZkfOcrOfuCqOxil7yMQa2FD2ATFu6gFdukNwLRTAzF8aoRAJnAhBFTo7l2hNLVAgjmKRQtkapWBpa3x4K7P5UZqIH59HAJZLH2pDx48tIZ1UUGGpYcPHqiosLVo5QfSSQ4ChrSqyXF+aegAXrWYRt4FINbUx68+eAuMGwDEWk60Jn8HPle3OFQNYXWQex1NlESt5TOnqhyijsPa3SHcfShM0ZMOQkIEFEQtsDYVHt61yiJLsoc+BfkWqkbn3oog7EFIGl0EbW26SPSbqF13buP1kUTsN5XbqOBg4brCFCWt0CTBHKw0/N05DL4tFGrZQm0yajQaR0OrSyAdpIWvUCwLbg+PQMHRpOZTkNDhzgr2iMBR3N+1Lt4e98cDq7lIgxSNGf6bhUkK7AAUXHSJu6E5ApLEt0mE9nEq5Ihmxzllekm0LaUBaDqIyxGeQy1hJFR/lFXK/BIj2bkd7Xn7cZ0LGYQPep28JNl1WXuX6o/MXKVMNA53nXLsbjjHojIxTWI1EK8Yoa88KvuHuzusVZsDHzNKSrtNkuwfWG3A7uwehiWsogiqgm5BOHOwlp2a2JmHGqVSvH14cHBweDvAG/k2bXSwvyhYDA0Pft5ZtuhueO1dskOdac3D13IrloIq0qZOacILWhLnzt6XWL7lyr3SPIX3n1qd4lox1HGtzcTKwOwy9hhZ6fjVoXILKkrSFOv45q54NwOOqdhLf7fjgNjJUOvw0pzqFbe2riBtbd0KBWHCXvje2lrejXozZS7xHW0JEifabRAeLiZSlkUqiwdbT4/Ulfkr7GaSIVs1iQ/CutM6PyPC/Zb70UlJKtjNCKOIM7dzx3Itz0DLex/EcQVTEhKMAwgn8bZkvOGWe6RFgJCPvrK1OgjlZlizeEHide3uWR6P9yTko8lWDJPdLRDWJZtF9HTK8TpE95iRwV5FVSiPtp8talE6DEY5XfbUtFa54jWJpwIxR41BsxFaGy5NIrd18i02DaS+WOcNuhlVcWckAcN4ahtaz+ZNNcKAGaF0rJ0FdBD/kIs9jPefWFFC3X52R1CjbauRWqpgVHxbxT8Lxp5Y4VMkx1+oIWKBMHW1bhrhJmFkcFn7lPEFcQWJ11FXmbR75my8kziCQE5noKnNkJE/oxnmqczMIoHwnpvFnIwQNoFv7+0BV4BrMTMDTmFU9354XKI8M9st8M8ttOwX5loKcFbbKKvYA4oFMzeY/GSDc78ODQp21Hx822c/fEWU5ypXcvdvIcEuqvCYiiwyDCNW/7X6iRgwC73/sXUgQmgFP9uVMdHmcLgfXpF5a+Myw0giDzeao1u536yG3KyF1v44tT6r3+WuJTvas9z+YJsksEO0QRA8p6vt+syYzeruozCeV8SBHaKoLoq8BZUQZLkd0NkIGDZECdyujy/uBw5R7KMYaYDYGzns91ahg0bDD8FqEe9ELWDQ6LzQTQOkMF7u0LQHH2HDeCXgTAvxRtJ/GM/YDfJWKiD2Tg5nu2LIxMp9gOLNZ48fPXr8WcDOL9+JVZVLF8QxibNXJHh2KtouIfzy+slVoCevP7NBTvFRpc/NeNXLkRzEjhLBNbINXHxY+sSbRwgDoTwWqCGyuBm5+MAYQtogzjErz5bKgBWchW8Jj646evLYugf9XTd5MwVzrDRAnLPTtE3lFC0S8C9PrrpJkHdRN3nS2kIvpQ/iOtdD21JFETqc8+bXqx69FqLfwAkQmyMNENfxi9NoJxJgV+Y1iGWSiAdpXMcr30oVZM3e3iiQq1w0STOh9OgqpsdgeBBp06M4EzICcZ1opx+GIetSf/MaB3kUsaxk0DjSAXF9YyAqifErDvI62tZNH46UQFxffRCMaN712+dejj9/i+ZXPhwpgbi/wyHUo6Werd9dKJ//Hm050rPBPwuQwsA5hCFEfG9T2frtjz8/B/rzj98irqrybT+O1EA836qJuOwDu+wtoEjvg6Bkp//AOdID8XxURFdin9YLl6To/hwpgni+5yREWMCKKd4QAjhSBPF+YUtQw3ZhxhNTVQM50gTBvhXGhb+Ejy7svAjJkSpIYc1DIqitlCIFLgaHcKQLAmziPWR5Gv3IiL8Y+dQ7zadxpAxCfOGQmxEHv+JiaDPsFBKVI20Q8ttnesBSb7gk2dBLUTjSBylsbGLrPVy9GuvgtCOR8lEYH44MQArbxOd+4ap1/FNvWqdNnjf048gCBCQv4sthgl5v8TFYGL5V18mVPF+MbEDgqSiyEoBFifadAUlTaBSBHNmAwL2utM+5obcJgWcrGVFTyK/yRODICoRuFAvGPDWUqoY7GsNrVcU4NX0/tRWIkR0IMMrE/yOU8KgoNtSXTS7o62chGFmChHw8Hj+FWQ1cpA/lyBQE+NfUFyUOSDhGxiAgE/uhNEZfeEG+8P0jJVEwMgeBVmkeEY3dePrlwHuOonI4+PIpDSUaRg4gcLP+BPu7F0+ffbVewEEK6189e7oiRT4gQDX3H+n5+vmLM+JkCzo3c/bi+derYeQFAv9sUh+wQB97+rJ8xtJB2LPyy6erUOQIgljGk5PRXy/K19fhiSC8U4cnctavl1/81YgNkTMI1Pq/y+XyXgGebMFPJKFzM3vgn5+/ffFB1s9ARaFBKCdb0LkZYJJy+dnXFx0EcZTPCj6n+KBJ0BWrkOQJYnEgz6Kd4kPn9vbQJc/ie1eewW5xQBDqqUKUuCyQFUhyBFlwXA8GuW5d9fzigiyrCEEKdBDXVS/+c1FB1hc1XGRfv2DfW1719z8uJsgi0JdZyy/9FpzLYoZJXiB2S5fRAIW2cxgmLdYBKf91EUEcx1oECbktHW0H33Nd9yKWc+UD4m7ohUl2Dt3n8irWblfvdbGcKx+QvbJHewjuYL9oHc4D/923DnFj18XJXLmAuB3Ldi5glAPrmOX+7QNr8/Eedt3LGEOVXECwhrZJ4NZhoJ3FYQmcI1a85wGCG8RF4sElL4vRmeQBckZUEOgMQ9mjXhV9pJIDCMUgyChne+v2JXtn9Iv+jhwlOYAQEeJiOdsDOvOhgIocJdmDrFN9JqpeRu1LsgfxN0gURR4FZw+SyCDRu/fMQXxCPbpJImbgzEGSeVY5crhnDcIm9KzI4Z41CKW7jqmIvpU1SGKDRO3dMwZJ7llRfStjkKQ5Cyqab2UMkjhnQUXKWxmDpOBZoE88f5A0PAsMgaMESbYgyZMv1IunlIpPm+jHu5ObuYCkwUENkpsb2yP4c8gO8wBJJUSoQXJtjZ2CH2+PC+O3swdJoxeBovQkTbYwgYYZFAY3swdJJ9ZhkNzEdVwojMGPa7VC7Rr6xTRLkJRCpFz+agNXrVBYAz/gxx8H6Bdp/TXBbEEoi0e5KqUQsd5EXIIkV1qxbr2aP0+Qs+sp6ex8QQrrqel8OS51qUtd6lL/5/ov5rRWJiodImAAAAAASUVORK5CYII=")
elif result == 'Negative':
    st.image("https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTNrsQBq5LIBSZ1bFOig_FvUpaRefb5J5-R4UnJctzkh4g5f0mPMe6LLgH5SaJc6fsKv_w&usqp=CAU") 
elif result == 'Neutral':
    st.image("https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTBa-fcfBSvujwkWdgOvTNVaHx2w_zESXwGCw&usqp=CAU")       


